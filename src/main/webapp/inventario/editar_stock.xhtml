<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Modificar Stock Mínimo y Máximo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <h:outputStylesheet library="css" name="estilos.css" />
    <!-- Usar estilos del detalle para mantener coherencia en el header -->
    <h:outputStylesheet library="css" name="detalleInventarios.css" />
</h:head>

<h:body>
    <header class="main-header">
        <div class="logo">
            <h1>Modificar Stock Mínimo y Máximo</h1>
        </div>
        <nav class="main-nav">
            <!-- usar las mismas clases y estilo que detalle_inventarios.xhtml -->
            <h:link value="Volver a Detalles" outcome="/inventario/detalle_inventarios.xhtml" styleClass="back-btn" />
        </nav>
    </header>

    <main>
        <h:form>
            <h:messages globalOnly="false" layout="table" />

            <div class="form-container"
                style="max-width: 600px; margin: 2rem auto; padding: 2rem; background-color: #fff; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                <div class="product-info" style="margin-bottom: 2rem;">
                    <h2>#{inventarioBean.detalleNombre}</h2>
                    <p><b>Ubicación:</b> #{inventarioBean.detalleUbicacion}</p>
                    <p><b>Stock Actual:</b> #{inventarioBean.selectedInventario.stock}</p>
                    <p><b>Estado:</b>
                        <span class="status #{inventarioBean.estadoClass(inventarioBean.selectedInventario)}">
                            #{inventarioBean.estadoLabel(inventarioBean.selectedInventario)}
                        </span>
                    </p>
                </div>

                <div class="form-group" style="margin-bottom: 1rem;">
                    <h:outputLabel for="minimo" value="Stock Mínimo:" style="display: block; margin-bottom: 0.5rem;" />
                    <h:inputText id="minimo" value="#{inventarioBean.selectedInventario.minimo}" required="true"
                        requiredMessage="El stock mínimo es requerido"
                        validatorMessage="El stock mínimo debe ser un número positivo"
                        style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
                        <f:validateLongRange minimum="0" />
                    </h:inputText>
                    <h:message for="minimo" style="color: red; display: block;" />
                </div>

                <div class="form-group" style="margin-bottom: 1rem;">
                    <h:outputLabel for="maximo" value="Stock Máximo:" style="display: block; margin-bottom: 0.5rem;" />
                    <h:inputText id="maximo" value="#{inventarioBean.selectedInventario.maximo}" required="true"
                        requiredMessage="El stock máximo es requerido"
                        validatorMessage="El stock máximo debe ser mayor que el mínimo"
                        style="width: 100%; padding: 0.5rem; border: 1px solid #ccc; border-radius: 4px;">
                        <f:validateLongRange minimum="1" />
                    </h:inputText>
                    <h:message for="maximo" style="color: red; display: block;" />
                </div>

                <div class="actions" style="margin-top: 2rem; text-align: center;">
                    <h:commandButton value="Guardar Cambios" action="#{inventarioBean.guardarCambiosStock}"
                        styleClass="action-btn"
                        style="margin-right: 1rem; padding: 0.5rem 1rem; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;" />
                    <h:commandButton value="Cancelar" action="detalle_inventarios?faces-redirect=true"
                        styleClass="cancel-btn" immediate="true"
                        style="padding: 0.5rem 1rem; background-color: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;" />
                </div>
            </div>
        </h:form>
    </main>
</h:body>

</html>